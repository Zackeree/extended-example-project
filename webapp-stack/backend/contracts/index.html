<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.46" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/example-project/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/example-project/images/favicon.png" type="image/x-icon" />
    <title>Radio Telescope Contracts :: YCP Radio Telescope Knowledge Base</title>
    
    
    <link href="/example-project/css/nucleus.css?1533768973" rel="stylesheet">
    <link href="/example-project/css/font-awesome.min.css?1533768973" rel="stylesheet">
    <link href="/example-project/css/hybrid.css?1533768973" rel="stylesheet">
    <link href="/example-project/css/featherlight.min.css?1533768973" rel="stylesheet">
    <link href="/example-project/css/perfect-scrollbar.min.css?1533768973" rel="stylesheet">
    <link href="/example-project/css/auto-complete.css?1533768973" rel="stylesheet">
    <link href="/example-project/css/theme.css?1533768973" rel="stylesheet">
    <link href="/example-project/css/hugo-theme.css?1533768973" rel="stylesheet">
    
      <link href="/example-project/css/theme-blue.css?1533768973" rel="stylesheet">
    

    <script src="/example-project/js/jquery-2.x.min.js?1533768973"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/example-project/webapp-stack/backend/contracts/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <link href="/example-project/custom.css" rel="stylesheet">
<img src="/example-project/Donald_Hake.png"></img>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/example-project/js/lunr.min.js?1533768973"></script>
<script type="text/javascript" src="/example-project/js/auto-complete.js?1533768973"></script>
<script type="text/javascript">
    
        var baseurl = '\/example-project\/';
    
</script>
<script type="text/javascript" src="/example-project/js/search.js?1533768973"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/example-project/environment/" title="Development Environment" class="dd-item 
        
        
        
        ">
      <a href="/example-project/environment/">
          Development Environment
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/example-project/environment/idea/" title="IntelliJ IDEA Ultimate Edition" class="dd-item ">
        <a href="/example-project/environment/idea/">
        IntelliJ IDEA Ultimate Edition
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/example-project/environment/npm/" title="NPM" class="dd-item ">
        <a href="/example-project/environment/npm/">
        NPM
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/example-project/styleguides/" title="Code Style Guides" class="dd-item 
        
        
        
        ">
      <a href="/example-project/styleguides/">
          Code Style Guides
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/example-project/styleguides/kotlin/" title="Kotlin Style Guide" class="dd-item ">
        <a href="/example-project/styleguides/kotlin/">
        Kotlin Style Guide
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/example-project/design-patterns/" title="Design Patterns" class="dd-item 
        
        
        
        ">
      <a href="/example-project/design-patterns/">
          Design Patterns
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/example-project/workflows/" title="Development Workflows" class="dd-item 
        
        
        
        ">
      <a href="/example-project/workflows/">
          Development Workflows
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/example-project/workflows/git/" title="Git" class="dd-item 
        
        
        
        ">
      <a href="/example-project/workflows/git/">
          Git
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/example-project/workflows/git/common-git-tasks/" title="Common Git Tasks" class="dd-item ">
        <a href="/example-project/workflows/git/common-git-tasks/">
        Common Git Tasks
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/example-project/gradle/" title="Gradle Build System" class="dd-item 
        
        
        
        ">
      <a href="/example-project/gradle/">
          Gradle Build System
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/example-project/webapp-stack/" title="Radio Telescope Webapp Stack" class="dd-item 
        parent
        
        
        ">
      <a href="/example-project/webapp-stack/">
          Radio Telescope Webapp Stack
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/example-project/webapp-stack/backend/" title="Backend" class="dd-item 
        parent
        
        
        ">
      <a href="/example-project/webapp-stack/backend/">
          Backend
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/example-project/webapp-stack/backend/springdatajpa/" title="Spring Data JPA" class="dd-item ">
        <a href="/example-project/webapp-stack/backend/springdatajpa/">
        Spring Data JPA
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/example-project/webapp-stack/backend/contracts/" title="Radio Telescope Contracts" class="dd-item active">
        <a href="/example-project/webapp-stack/backend/contracts/">
        Radio Telescope Contracts
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/example-project/resources/" title="Learning Resources" class="dd-item 
        
        
        
        ">
      <a href="/example-project/resources/">
          Learning Resources
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/example-project/bootcamp/" title="Example Project Bootcamp" class="dd-item 
        
        
        
        ">
      <a href="/example-project/bootcamp/">
          Example Project Bootcamp
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/example-project/bootcamp/backend/" title="Backend Bootcamp" class="dd-item ">
        <a href="/example-project/bootcamp/backend/">
        Backend Bootcamp
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <link rel="stylesheet" href="/css/theme.css">
<ul>
    <li>
        <a href="https://github.com/cspath1/example-project" target="_blank"><i class="fa fa-github"></i> Example Repo</a>
    </li>
    <li>
        <a href="https://radio-tele-capstone.slack.com" target="_blank"><i class="fa fa-slack"></i> Slack</a>
    </li>
    <li>
        <a href="https://drive.google.com/drive/u/0/folders/0AG8MiFHJZpy0Uk9PVA" target="_blank"><i class="fa fa-google"></i> Team Drive</a>
    </li>
    <li>
        <a href="https://learngitbranching.js.org/" target="_blank"><i class="fa fa-git-square"></i> Learn Git</a>
    </li>
    <li>
        <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm" target="_blank"><i class="fa fa-desktop"></i> Dissertation on REST</a>
    </li>
</ul>
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/example-project/'>YCP Radio Telescope Knowledge Base</a> > <a href='/example-project/webapp-stack/'>Radio Telescope Webapp Stack</a> > <a href='/example-project/webapp-stack/backend/'>Backend</a> > Radio Telescope Contracts
          
         
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#what-do-we-mean-by-contracts">What do we mean by &ldquo;Contracts&rdquo;</a></li>
<li><a href="#1-the-command-object">1. The Command Object</a></li>
<li><a href="#2-the-responder-interface">2. The Responder Interface</a></li>
<li><a href="#3-the-factory-interface">3. The Factory Interface</a></li>
<li><a href="#4-the-usercontextwrapper-interface">4. The UserContextWrapper Interface</a></li>
<li><a href="#5-testing-the-contracts-layer">5. Testing the Contracts layer</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Radio Telescope Contracts</h1>
          

        




<h2 id="what-do-we-mean-by-contracts">What do we mean by &ldquo;Contracts&rdquo;</h2>

<p>Whenever we refer to the &ldquo;business logic&rdquo; or &ldquo;contracts&rdquo; part of an application, we are
referring to the
part of the application responsible for validating any incoming request from the client-side.
This validation will cover
anything from making sure the required fields for a given request are filled in to making sure
the person accessing
a certain endpoint has the permission to do so.</p>

<h2 id="1-the-command-object">1. The Command Object</h2>

<p>There are two things that make up the centerpiece of the contracts architecture: The Command Object
and The Responder interface (see next section).
The Command Object is an interface with a single execute method that any sort of request from the
client-side will implement.
Each concretely-implemented class that extends the Command Object will concretely implement the execute
method. This method
is the one that is actually responsible for querying/inserting/deleting items from the database.</p>

<h2 id="2-the-responder-interface">2. The Responder Interface</h2>

<p>The second part that makes up the centerpiece of the contracts architecture is the Responder interface.
It is in charge of responding
back to the client-side with the information they requested via our API. The Responder object itself currently
has 6 other interfaces that
extend from it.</p>

<p>Each other responder interface is just in charge of concretely implementing what will be sent
back to the client-side on success.</p>

<p>By default, each responder will always return a Multimap<ErrorTag, String> where ErrorTag is just an Entity-specific
enum containing
the different constraints that could fail</p>

<h2 id="3-the-factory-interface">3. The Factory Interface</h2>

<p>For each Spring Entity we have, in our contracts layer we will also need a Factory Interface for it. The purpose
of the factory interface
is more or less just to wrap up all of our command objects for an Entity into one interface, that way we can just
concretely implement the factory interface
and have all of our methods in one consolidated class.</p>

<h2 id="4-the-usercontextwrapper-interface">4. The UserContextWrapper Interface</h2>

<p>The UserContextWrapper Interface is in charge of tying in to Spring Security and validating that the person making
a request has the roles/permissions
to do so. As with the Factory Interface each set of contracts for a specific entity will need a concrete UserWrapper
implementation.</p>

<p>One important thing to note is under the scenario that a client-side request does not require any sort of
roles/permission checking,
the UserWrapper should just return the concrete factory&rsquo;s command object instead. Spring Security only has
an Authentication token created
once a user has been validated and logged in. All endpoints that can be accessed by an anonymous user will
not have any Spring Security authentication.</p>

<h2 id="5-testing-the-contracts-layer">5. Testing the Contracts layer</h2>

<p>One of the main reasons this layer in web-app architecture is referred to as the &ldquo;business logic&rdquo; is due to
the fact that the majority of our application&rsquo;s logic exists here.</p>

<p>It is exactly because of this that we must ensure our Contracts layer is very well tested. Each command object
is concretely implemented
should have a unit test the checks all possible validation scenarios.</p>

<p>Examples of unit tests for the Spring Framework have been provided in the example application.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/example-project/webapp-stack/backend/springdatajpa/" title="Spring Data JPA"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/example-project/resources/" title="Learning Resources" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/example-project/js/clipboard.min.js?1533768973"></script>
    <script src="/example-project/js/perfect-scrollbar.min.js?1533768973"></script>
    <script src="/example-project/js/perfect-scrollbar.jquery.min.js?1533768973"></script>
    <script src="/example-project/js/jquery.sticky.js?1533768973"></script>
    <script src="/example-project/js/featherlight.min.js?1533768973"></script>
    <script src="/example-project/js/html5shiv-printshiv.min.js?1533768973"></script>
    <script src="/example-project/js/highlight.pack.js?1533768973"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/example-project/js/modernizr.custom.71422.js?1533768973"></script>
    <script src="/example-project/js/learn.js?1533768973"></script>
    <script src="/example-project/js/hugo-learn.js?1533768973"></script>

    <link href="/example-project/mermaid/mermaid.css?1533768973" type="text/css" rel="stylesheet" />
    <script src="/example-project/mermaid/mermaid.js?1533768973"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

